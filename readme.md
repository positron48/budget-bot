# Telegram Bot –¥–ª—è —É—á–µ—Ç–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –∏ –¥–æ—Ö–æ–¥–æ–≤

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

Telegram –±–æ—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ —Å–∏—Å—Ç–µ–º—É —É—á–µ—Ç–∞ –ª–∏—á–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤. –ë–æ—Ç –≤—ã—Å—Ç—É–ø–∞–µ—Ç –∫–∞–∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è gRPC —Å–µ—Ä–≤–∏—Å–∞ –±—é–¥–∂–µ—Ç–∞, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —á–µ—Ä–µ–∑ Telegram.

### üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** —á–µ—Ä–µ–∑ Telegram –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π** —á–µ—Ä–µ–∑ gRPC API
- **–£–º–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è** —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–ø–∏—Å–∞–Ω–∏—è
- **–ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å** —Å –ø—Ä–∏–≤—è–∑–∫–æ–π Telegram –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å–∏—Å—Ç–µ–º—ã
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.23+
- SQLite
- Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É [@BotFather](https://t.me/BotFather))

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**:
   ```bash
   git clone <repository-url>
   cd budget-bot
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
   ```bash
   cp env.example .env
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª, —É–∫–∞–∑–∞–≤ –≤–∞—à TELEGRAM_BOT_TOKEN
   ```

3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è protobuf –∫–ª–∏–µ–Ω—Ç–æ–≤**:
   ```bash
   make proto
   ```

4. **–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫**:
   ```bash
   # –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å —Ñ–µ–π–∫–æ–≤—ã–º–∏ gRPC –∫–ª–∏–µ–Ω—Ç–∞–º–∏)
   make build-fake
   make run
   
   # –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (—Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ gRPC –∫–ª–∏–µ–Ω—Ç–∞–º–∏)
   make build
   make run
   
   # –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
   go build -o bin/budget-bot ./cmd/bot
   ./bin/budget-bot
   ```

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

#### Systemd —Å–µ—Ä–≤–∏—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `/etc/systemd/system/budget-bot.service`:

```ini
[Unit]
Description=Budget Bot
After=network.target

[Service]
Type=simple
User=bot
WorkingDirectory=/opt/budget-bot
ExecStart=/opt/budget-bot/budget-bot
Restart=always
RestartSec=10
Environment=TELEGRAM_BOT_TOKEN=your_token_here
Environment=TELEGRAM_WEBHOOK_ENABLE=true
Environment=TELEGRAM_WEBHOOK_DOMAIN=https://your-domain.com
Environment=GRPC_SERVER_ADDRESS=your_grpc_server:8081

[Install]
WantedBy=multi-user.target
```

–ó–∞—Ç–µ–º:
```bash
sudo systemctl daemon-reload
sudo systemctl enable budget-bot
sudo systemctl start budget-bot
sudo systemctl status budget-bot
```

#### –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ

```bash
nohup ./budget-bot > bot.log 2>&1 &
```



## üí¨ –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥

1. **–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã**: –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É
2. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/register` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
3. **–í—Ö–æ–¥**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/login` –¥–ª—è –≤—Ö–æ–¥–∞ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∞–∫–∫–∞—É–Ω—Ç
4. **–í—ã—Ö–æ–¥**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/logout` –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

–ë–æ—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:

```
[–¥–∞—Ç–∞] [+]—Å—É–º–º–∞[–≤–∞–ª—é—Ç–∞] –æ–ø–∏—Å–∞–Ω–∏–µ
```

#### –ü—Ä–∏–º–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π:

```
1000 –ø—Ä–æ–¥—É–∫—Ç—ã                    # –†–∞—Å—Ö–æ–¥ 1000 –≤ –≤–∞–ª—é—Ç–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
+50000 –∑–∞—Ä–ø–ª–∞—Ç–∞                  # –î–æ—Ö–æ–¥ 50000
01.12 5000 –ø–æ–¥–∞—Ä–æ–∫              # –†–∞—Å—Ö–æ–¥ —Å –¥–∞—Ç–æ–π
12.12.2023 1234.56 —Ç–∞–∫—Å–∏        # –†–∞—Å—Ö–æ–¥ —Å —Ç–æ—á–Ω–æ–π –¥–∞—Ç–æ–π
–≤—á–µ—Ä–∞ 100 –∫–æ—Ñ–µ                   # –†–∞—Å—Ö–æ–¥ –∑–∞ –≤—á–µ—Ä–∞
—Å–µ–≥–æ–¥–Ω—è +1000 –≤–æ–∑–≤—Ä–∞—Ç            # –î–æ—Ö–æ–¥ –∑–∞ —Å–µ–≥–æ–¥–Ω—è

# –° —É–∫–∞–∑–∞–Ω–∏–µ–º –≤–∞–ª—é—Ç—ã
1000‚ÇΩ –ø—Ä–æ–¥—É–∫—Ç—ã                   # –†–∞—Å—Ö–æ–¥ –≤ —Ä—É–±–ª—è—Ö
+50000$ –∑–∞—Ä–ø–ª–∞—Ç–∞                 # –î–æ—Ö–æ–¥ –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö
01.12 5000 EUR –ø–æ–¥–∞—Ä–æ–∫          # –†–∞—Å—Ö–æ–¥ –≤ –µ–≤—Ä–æ
```

#### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–∞—Ç:
- `—Å–µ–≥–æ–¥–Ω—è`, `–≤—á–µ—Ä–∞`, `–ø–æ–∑–∞–≤—á–µ—Ä–∞`
- `DD.MM.YYYY` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `15.12.2023`)
- `DD.MM` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `15.12` - —Ç–µ–∫—É—â–∏–π –≥–æ–¥)

#### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–∞–ª—é—Ç—ã:
- –°–∏–º–≤–æ–ª—ã: ‚ÇΩ, $, ‚Ç¨, ¬£, ¬•
- –ö–æ–¥—ã: RUB, USD, EUR, GBP, JPY

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏

   - `/categories` - —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `/map —Å–ª–æ–≤–æ = –∫–∞—Ç–µ–≥–æ—Ä–∏—è` - –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π
   - `/map —Å–ª–æ–≤–æ` - –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
   - `/map --all` - –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è
   - `/unmap —Å–ª–æ–≤–æ` - —É–¥–∞–ª–∏—Ç—å —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã

- `/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü
- `/stats 2023-12` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–µ—Å—è—Ü
- `/stats week` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Ç–µ–∫—É—â—É—é –Ω–µ–¥–µ–ª—é
- `/top_categories` - —Ç–æ–ø –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ —Ä–∞—Å—Ö–æ–¥–∞–º
- `/recent` - –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `/export` - —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ CSV

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏

- `/switch_tenant` - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏
- `/language` - –≤—ã–±–æ—Ä —è–∑—ã–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- `/currency` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∞–ª—é—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- `/settings` - –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# Telegram
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_API_BASE_URL=https://api.telegram.org/
TELEGRAM_DEBUG=false

# Webhook (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
TELEGRAM_WEBHOOK_ENABLE=false
TELEGRAM_WEBHOOK_DOMAIN=https://your-domain.com
TELEGRAM_WEBHOOK_PATH=/tg

# gRPC —Å–µ—Ä–≤–µ—Ä
GRPC_SERVER_ADDRESS=127.0.0.1:8081
GRPC_INSECURE=true

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DATABASE_DRIVER=sqlite
DATABASE_DSN=file:./data/bot.sqlite?_foreign_keys=on

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL=info

# –ú–µ—Ç—Ä–∏–∫–∏
METRICS_ENABLED=false
METRICS_ADDRESS=:9090
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª

–°–æ–∑–¥–∞–π—Ç–µ `configs/config.yaml` –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:

```yaml
telegram:
  token: ${TELEGRAM_BOT_TOKEN}
  timeout: 30s

grpc:
  server_address: ${GRPC_SERVER_ADDRESS}
  timeout: 10s
  retry_attempts: 3

database:
  url: ${DATABASE_DSN}
  max_connections: 10

logging:
  level: ${LOG_LEVEL}
  format: json
```

### Webhook —Ä–µ–∂–∏–º

–ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã —Å Telegram API:

1. **Long Polling** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - –±–æ—Ç —Å–∞–º –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
2. **Webhook** - Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π URL

–î–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è webhook —Ä–µ–∂–∏–º–∞:

```bash
# –í–∫–ª—é—á–∏—Ç—å webhook
TELEGRAM_WEBHOOK_ENABLE=true

# –£–∫–∞–∑–∞—Ç—å –¥–æ–º–µ–Ω —Å –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º
TELEGRAM_WEBHOOK_DOMAIN=https://your-domain.com

# –ü—É—Ç—å –¥–ª—è webhook (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é /tg)
TELEGRAM_WEBHOOK_PATH=/tg

# API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è webhook (–º–æ–∂–µ—Ç –±—ã—Ç—å —ç–º—É–ª—è—Ç–æ—Ä)
TELEGRAM_API_BASE_URL=http://127.0.0.1:3001/bot%s/%s
```

**–í–∞–∂–Ω–æ:** Webhook —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏ —É–¥–∞–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ API, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ `TELEGRAM_API_BASE_URL`.

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ webhook: [readme_webhook_setup.md](readme_webhook_setup.md)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

- **Telegram Bot Service** - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –±–æ—Ç–∞
- **Message Parser** - –ø–∞—Ä—Å–∏–Ω–≥ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **Category Matcher** - —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- **State Manager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –¥–∏–∞–ª–æ–≥–∞
- **Auth Manager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- **gRPC Client** - –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º —Å–µ—Ä–≤–∏—Å–æ–º

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–µ—Å—Å–∏–π
- –°–æ—Å—Ç–æ—è–Ω–∏–π –¥–∏–∞–ª–æ–≥–æ–≤
- –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
budget-bot/
‚îú‚îÄ‚îÄ cmd/bot/                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ bot/                # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ grpc/               # gRPC –∫–ª–∏–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ domain/             # –î–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ repository/         # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ pkg/                # –û–±—â–∏–µ –ø–∞–∫–µ—Ç—ã
‚îú‚îÄ‚îÄ migrations/             # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ proto/                  # Protobuf –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
‚îî‚îÄ‚îÄ configs/                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
go test ./...

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
go test -cover ./...

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
go test ./internal/bot -v
```

### –°–±–æ—Ä–∫–∞

```bash
# –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
make build

# –ü—Ä–æ–¥–∞–∫—à–µ–Ω —Å–±–æ—Ä–∫–∞
make build-prod

# –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
make docker-build
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏ Prometheus

–ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫–∞—Ö (`METRICS_ENABLED=true`) –±–æ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ –ø–æ—Ä—Ç—É `METRICS_ADDRESS`:

- `bot_transactions_total` - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `bot_response_time_seconds` - –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç–∞
- `bot_active_users` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é Zap. –õ–æ–≥–∏ –≤–∫–ª—é—á–∞—é—Ç:
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö
- –û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –ü—Ä–æ–±–ª–µ–º—ã —Å gRPC —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏
- –î–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT —Ç–æ–∫–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
- –í—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å gRPC —Å–µ—Ä–≤–µ—Ä–æ–º –∑–∞—â–∏—â–µ–Ω—ã
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –º–µ–∂–¥—É –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: 
  - `readme_quick_start.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
  - `readme_commands.md` - –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞
  - `readme_mappings.md` - —Å–∏—Å—Ç–µ–º–∞ –º–∞–ø–ø–∏–Ω–≥–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  - `readme_development_plan.md` - –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–º. `readme_testing.md` –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- **Issues**: –°–æ–∑–¥–∞–≤–∞–π—Ç–µ issues –¥–ª—è –±–∞–≥–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

[–£–∫–∞–∂–∏—Ç–µ –ª–∏—Ü–µ–Ω–∑–∏—é –ø—Ä–æ–µ–∫—Ç–∞]
